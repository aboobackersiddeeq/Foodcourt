<!DOCTYPE html>
<html lang="en">



<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Skydash Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/feather/feather.css">
    <link rel="stylesheet" href="../../vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="../../vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../css/vertical-layout-light/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="../../images/favicon.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<!-- <style>
    .dataTables_wrapper label {
    /* font-size: .8125rem; */
    margin-right: 455px;
    margin-top: -13px;
    margin-bottom: 31px;
}
</style> -->
<style>
    label{
        display: flex;
        align-items: center;
        /* margin-right: 118px; */
        border-radius: 0%;
 
    }
    /* .add{
        z-index: 0;
    margin-top: -100px;
    margin-left: 500px;
    padding: 15px;
    border-radius: 1px;
    } */
    #cat_filter{
    
    align-items: center;
    }
    input{
    width: 269px;
    height: 46px;
    }

    #cat{
     /* background-color: rgb(246, 246, 246); */
     margin-top: 20px;
     margin-bottom:10px;
    }
    #cat_wrapper{
      
      
     
    }
    #cat_paginate{
     max-height: 40px;
     margin: 10px 10px;
    
 }
 #cat_info{
     color: black;
 }
 #cat_previous{
     background-color: lightskyblue !important;
     border-radius: 20px;
     
     color:blue !important;
 
 }
 .fg-button{
     color: black;
 }
 #cat_next{
     background-color: lightskyblue !important;
     border-radius: 20px;
     
     color:blue !important;
 }
 </style>

<body>
    <div class="container-scroller">
        <!-- partial:../../partials/_navbar.html -->
        <%- include('../partials/_navbar.ejs') %>
            <!-- partial -->
            <div class="container-fluid page-body-wrapper">
                <!-- partial:../../partials/_settings-panel.html -->
                <%- include('../partials/_settings-panel.ejs') %>
                    <!-- partial -->
                    <!-- partial:../../partials/_sidebar.html -->
                    <%- include('../partials/_sidebar.ejs') %>
                        <!-- partial -->
                        <div class="main-panel">
                            <div class="content-wrapper">
                                <div class="row">
                                    <div class="col-lg-12 grid-margin stretch-card">
                                        <div class="card"  style="border-radius: 0%;">
                                            <div class="card-body" style="border-radius: 0%;">
                                                <div class="container" id="">
                                                    
                                                    <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Edit Product</button>
                                                     -->

                                                    <div class="row" style="overflow-x:auto;">
                                                        <table   id="cat" class="table  table-striped">
                                                            <thead style="    background-color: #121211;
                                                            color: white;">
                                                                <tr>
                                                                    <th class="col-md-1">NO</th>
                                                                    <th class="col-md-3">TITLE</th>
                                                                    <th class="col-md-3">URL</th>
                                                                    <th class="col-md-3">DESCRIPTION</th>
                                                                    <th class="col-md-2">IMAGE</th>
                                                                    <th class="col-md-3">OPTIONS</th>
                                                                </tr>
                                                            </thead>
                                                            <%if(ban){%>
                                                            <tbody>
                                                                <% ban.forEach(function(category,index){%>
                                                                    <tr id="<%=category._id %>">
                                                                        <td>
                                                                            <%=index+1%>
                                                                        </td>
                                                                        <td>
                                                                            <%= category.title%>
                                                                        </td>
                                                                        <td>
                                                                            <%= category.url%>
                                                                        </td>
                                                                        <td>
                                                                            <%= category.description%>
                                                                        </td>
                                                                        <td>
                                                                            <img src="<%= category.image%>" alt="">
                                                                        </td>
                                                                        <td>
                                                                            <!-- <a href="/admin/edit-ban?id=<%=category._id %>"
                                                                                ><i class="fa fa-edit" style="font-size:24px"></i></a> -->
                                                                            <a  
                                                                                 
                                                                                onclick="deleted('<%=category._id %>')"><i class="material-icons" style="font-size:24px;color:red">delete</i></a>

                                                                        </td>
                                                                        <%});%>
                                                            </tbody>
                                                            <%}%>
                                                        </table>
                                                    </div>
                                                    <div class="my-4">
                                                        <!-- <a href="/admin/add-category "
                                                         class="btn btn-primary ml-auto">Add Category</a> -->
                                                         <button type="button" class="btn btn-primary add" data-bs-toggle="modal"
                                                    data-bs-target="#exampleModal" data-bs-whatever="@mdo">Add banner</button>
 
                                                     </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    <div>

                                    </div>


                                </div>
                                <!-- content-wrapper ends -->
                                <!-- partial:../../partials/_footer.html -->
                                <%- include('../partials/_footer.ejs') %>
                                    <!-- partial -->
                            </div>
                            <!-- main-panel ends -->
                        </div>
                        <!-- page-body-wrapper ends -->
            </div>
            <!-- container-scroller -->
            <!-- plugins:js -->
            <script src="../../vendors/js/vendor.bundle.base.js"></script>
            <!-- endinject -->
            <!-- Plugin js for this page -->
            <script src="../../vendors/chart.js/Chart.min.js"></script>
            <!-- End plugin js for this page -->
            <!-- inject:js -->
            <script src="../../js/off-canvas.js"></script>
            <script src="../../js/hoverable-collapse.js"></script>
            <script src="../../js/template.js"></script>
            <script src="../../js/settings.js"></script>
            <script src="../../js/todolist.js"></script>
            <!-- endinject -->
            <!-- Custom js for this page-->
            <script src="../../js/chart.js"></script>
            <!-- End custom js for this page-->
</body>

<!-- <script>
    $(document).ready(function () {
        $('#cat').DataTable();
    });


</script> -->

</html>
<!-- modal add address -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" >

            <div class="modal-body">
                <form action="/admin/add-banner" method="post" enctype="multipart/form-data">
                    <!-- Name input -->
                    <div class="form-outline mb-4">
                          <input type="text" name="title" id="form4Example1" class="form-control" required />
                      <label class="form-label" for="form4Example1" > Title  </label>
                    </div>
                    <div class="form-outline mb-4">
                       
                        <input type="text" name="url" id="form4Example1" class="form-control" required />
                        <label class="form-label" for="form4Example1" >URL</label>
                      </div>
                  
                    <!-- Email input -->
                   
                  
                    <!-- Message input -->
                    <div class="form-outline mb-4">
                      <textarea name="description" class="form-control" id="form4Example3" rows="4" required></textarea>
                      <label class="form-label" for="form4Example3">Description</label>
                    </div>
                  
                    <div class="form-outline mb-4">
                      <input type="file" name="img" id="image" class="form-control" />
                      <label class="form-label" for="form4Example1">Image</label>
                    </div>
                  
                    <!-- Submit button -->
                    <button type="submit" class="btn btn-primary btn-block mb-4">Add banner</button>
                  </form>

               
            </div>

        </div>
    </div>
</div>
</section>
<script>
    function deleted(Id) {
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                $.ajax({
                    url: '/admin/delete-banner',
                    data: {
                        id: Id,

                    },
                    method: "get",
                    success: (response) => {
                        if (response.status) {
                            document.getElementById(Id).remove()
                            Swal.fire(
                                'Deleted!',
                                'Your file has been deleted.',
                                'success'
                            )

                            console.log(response);

                            
                        }
                    }
                })

            }
        })

    }
</script>